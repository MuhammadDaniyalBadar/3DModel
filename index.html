<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AR Product View</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Model Viewer -->
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

<!-- QR Library -->
<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>

<style>
  body {
    margin: 0;
    background: #000;
    color: #fff;
    font-family: Arial, sans-serif;
    text-align: center;
  }

  header {
    padding: 12px;
    font-size: 18px;
    background: #111;
  }

  .subtitle {
    font-size: 13px;
    color: #bbb;
    margin-top: 4px;
  }

  model-viewer {
    width: 100vw;
    height: 65vh;
    background: #000;
  }

  .buttons {
    padding: 10px;
    background: #0d0d0d;
  }

  .buttons button {
    margin: 5px;
    padding: 8px 14px;
    background: #222;
    color: #fff;
    border: 1px solid #444;
    cursor: pointer;
    border-radius: 4px;
  }

  .buttons button:hover {
    background: #333;
  }

  .features {
    font-size: 13px;
    color: #ccc;
    padding: 10px;
    line-height: 1.6;
    background: #0d0d0d;
  }

  .qr-section {
    padding: 12px;
    background: #080808;
  }

  #qrcode {
    margin: 10px auto;
    width: 140px;
    height: 140px;
  }

  footer {
    font-size: 12px;
    color: #888;
    padding: 8px;
  }
</style>
</head>

<body>

<header>
  <div id="title">Loading product‚Ä¶</div>
  <div class="subtitle" id="subtitle">Point your camera at a flat surface</div>
</header>

<model-viewer
  id="viewer"
  ar
  ar-modes="scene-viewer webxr quick-look"
  ar-scale="fixed"
  ar-placement="floor"
  camera-controls
  disable-zoom
  shadow-intensity="1"
  exposure="1"
  scale="0.7 0.7 0.7"
  alt="AR Product">
</model-viewer>

<div class="buttons">
  <button onclick="switchProduct('burger')">üçî Burger</button>
  <button onclick="switchProduct('bigbang')">üî• Big Bang</button>
  <button onclick="switchProduct('fries')">üçü Animal Fries</button>
</div>

<div class="features">
  ‚úî Real-life size preview<br>
  ‚úî Rotate & inspect product<br>
  ‚úî Accurate texture & scale
</div>

<div class="qr-section">
  <div id="qrcode"></div>
  <div style="font-size:12px;color:#aaa;">
    Scan on another phone to try AR
  </div>
</div>

<footer>
  Move your phone to detect surface ‚Ä¢ Tap AR to place
</footer>

<script>
/* PRODUCT CONFIGURATION */
const products = {
  burger: {
    name: "Classic Beef Burger",
    subtitle: "See actual size before ordering",
    model: "models/jurger.glb"
  },
  bigbang: {
    name: "Big Bang Burger",
    subtitle: "Large size with premium texture",
    model: "models/BigBang.glb"
  },
  fries: {
    name: "Animal Fries",
    subtitle: "Crispy fries in real scale",
    model: "models/AnimalFries.glb"
  }
};

const viewer = document.getElementById("viewer");
const title = document.getElementById("title");
const subtitle = document.getElementById("subtitle");

/* LOAD PRODUCT */
function loadProduct(key) {
  const product = products[key];
  if (!product) return;

  title.innerText = product.name;
  subtitle.innerText = product.subtitle;
  viewer.src = product.model;

  // Update URL without reload
  history.replaceState({}, "", "?item=" + key);
}

/* BUTTON SWITCH */
function switchProduct(key) {
  loadProduct(key);
}

/* AUTO LOAD FROM URL */
const params = new URLSearchParams(window.location.search);
const itemFromUrl = params.get("item") || "burger";
loadProduct(itemFromUrl);

/* QR CODE */
new QRCode(document.getElementById("qrcode"), {
  text: window.location.href,
  width: 140,
  height: 140,
  colorDark: "#000000",
  colorLight: "#ffffff",
  correctLevel: QRCode.CorrectLevel.H
});
</script>

</body>
</html>
